<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Setting_up_an_Ethernet_Interface"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">etting up an Ethernet Interface</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The majority of network setup can be done via the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file at </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">/etc/network/interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. Here, you can give your network card an IP address (or use dhcp), set up routing information, configure IP masquerading, set default routes and much more. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Remember to add interfaces that you want brought up at boot time to the 'auto' line. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">See </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">man interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> for more options. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Using_DHCP_to_automatically_configure_the_interface"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">U</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">sing DHCP to automatically configure the interface</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you're just using DHCP then all you need is something like: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-18"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   auto eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   allow-hotplug eth0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   iface eth0 inet dhcp</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">For DHCPv6 (used for IPv6), </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">append</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> also the following </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">iface</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> stanza </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-26"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   iface eth0 inet6 dhcp</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Alternatively, IPv6 can be autoconfigured using </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">stateless address autoconfiguration,</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> or SLAAC, which is specified using </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">auto</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> instead of </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">dhcp</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> in the </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">inet6</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> stanza: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-32"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   iface eth0 inet6 auto</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Configuring_the_interface_manually"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">C</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">onfiguring the interface manually</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you're configuring it manually then something like this will set the default gateway (network, broadcast and gateway are optional): </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-39"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   auto eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   iface eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 192.0.2.7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway 192.0.2.254</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you want to add an IPv6 address, too, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">append</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> something like: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-49"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   iface eth0 inet6 static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 2001:db8::c0ca:1eaf</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 64</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway 2001:db8::1ead:ed:beef</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">See </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">man interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> for more options. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Setting_the_speed_and_duplex"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">etting the speed and duplex</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Autonegotiation repeatedly failing is often a symptom of faulty cabling, so investigate physical matters before assuming that the interfaces' autonegotiation algorithms are incompatible. If you turn off autonegotiation and set speed and duplex manually then the partner interface at the other end of the cable will assume that the absence of autonegotiation indicates a speed of 10Mbps and a duplex of half. For error-free operation if you set speed and duplex manually you must ensure that exactly the same speed and duplex are configured on the partner interface. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you set your interface's speed and duplex by hand, then some trial and error may be required. Here are the basic steps: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Install the <a href="https://packages.debian.org/ethtool"><span style=" text-decoration: underline; color:#0000ff;">ethtool</span></a> and <a href="https://packages.debian.org/net-tools"><span style=" text-decoration: underline; color:#0000ff;">net-tools</span></a> packages, so that you have the <span style=" font-family:'Courier New,courier';">ethtool</span> and <span style=" font-family:'Courier New,courier';">mii-tool</span> programs. One or both of these might work for your interface. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Make sure you have a way to login to the system in case the network interface becomes nonfunctional. An <a href="https://wiki.debian.org/SSH"><span style=" text-decoration: underline; color:#0000ff;">SSH</span></a> connection could be disrupted, so you should have a fallback strategy. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Identify the interface in question (it will often be eth0). Adjust the remainder of these instructions accordingly. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Try to determine what its current speed and duplex settings are. This is where it gets fun: </li>
<ul type="circle" style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">As root, try <span style=" font-family:'Courier New,courier';">ethtool eth0</span> first, and see whether the &quot;Speed:&quot; and &quot;Duplex:&quot; lines look valid. If not, the <span style=" font-family:'Courier New,courier';">ethtool</span> may not be supported by your device. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">As root, try <span style=" font-family:'Courier New,courier';">mii-tool -v eth0</span> and see whether its output looks correct. If not, them <span style=" font-family:'Courier New,courier';">mii-tool</span> may not be supported by your device. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If neither one is supported, you may have to set parameters directly on the kernel driver module. Identify which driver module you're using by reading the output of <span style=" font-family:'Courier New,courier';">dmesg</span> and <span style=" font-family:'Courier New,courier';">lsmod</span>. You can then try <span style=" font-family:'Courier New,courier';">modinfo MODULENAME</span> to see what parameters it accepts, if any. (You can use <span style=" font-family:'Courier New,courier';">modinfo</span> even on modules that are not loaded, for comparison.) <a href="https://wiki.debian.org/ToDo"><span style=" font-style:italic; text-decoration: underline; color:#0000ff;">ToDo</span></a><span style=" font-style:italic;">: where does one set kernel module parameters?</span> </li></ul>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Next, try to change the settings of the interface while it's operating. You'll need to be root, of course. Either: </li>
<ul type="circle" style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 2;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">ethtool -s eth0 speed 100 duplex full autoneg off</span> (assuming 100 Mbps and full duplex) </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">mii-tool -F 100baseTx-FD eth0</span> (same assumption) </li></ul>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In each case, re-check to see whether the interface settings actually changed, and then try sending some data in and out of the system to see whether the NIC is operating correctly. </span></p>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If one of these commands successfully set your NIC, then you can put it into <span style=" font-family:'Courier New,courier';">/etc/network/interfaces</span> so it runs when you bring the interface up (e.g. at boot time). However, before you do that, you should understand that some drivers and devices behave differently than others. When the driver module is loaded, the NIC may begin autonegotiation without any way to stop it (particularly with drivers that do not accept parameters). The settings from <span style=" font-family:'Courier New,courier';">interfaces</span> are applied at some point after that, which may be right in the middle of the negotiation. So, some people find it necessary to delay the <span style=" font-family:'Courier New,courier';">ethtool</span> or <span style=" font-family:'Courier New,courier';">mii-tool</span> command by a few seconds. Thus: </li>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">iface eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-2-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-3-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask ...</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-4-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway ...</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-5-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up sleep 5; ethtool -s eth0 ...</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Or the analogous </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">mii-tool</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> command. </span></p>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Reboot the machine to make sure it comes up correctly, and be prepared to intervene manually (e.g. Ctrl-Alt-Del and then boot into single-user mode from GRUB or LILO) if things don't work. </li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:8pt;"><br /></p>
<hr />
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-84"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">B</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ringing up an interface without an IP address</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">To create a network interface without an IP address at all use the manual method and use pre-up and post-down commands to bring the interface up and down. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-89"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">  iface eth0 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">     pre-up ifconfig $IFACE up</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">     post-down ifconfig $IFACE down</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If the interface is a VLAN interface, the up/down commands must be executed after/before the vlan hooks. (You also have to install the </span><a href="https://packages.debian.org/vlan"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">vlan</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> package.) </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-97"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">  iface eth0.99 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">     post-up ifconfig $IFACE up</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">     pre-down ifconfig $IFACE down</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Note: If you create the VLAN interface only to put it into a bridge, there is no need to define the VLAN interface manually. Just configure the bridge, and the VLAN interface will be created automatically when creating the bridge (see below). </span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Defining_the_.28DNS.29_Nameservers"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">D</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">efining the (DNS) Nameservers</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Before a computer can connect to an external network resource (say, for example, a web server), it must have a means of converting any alpha-numeric names (e.g. wiki.debian.org) into numeric network addresses (e.g. 140.211.166.4). (The Internet uses these structured numeric IP addresses as network addresses.) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The C library and other resolver libraries look to </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> for a list of nameservers. In the simplest case, that is the file to edit to set the list of name servers. But note that various other programs for dynamic configuration will be happy to overwrite your settings: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The <span style=" font-family:'Courier New,courier'; font-weight:600;">resolvconf</span> program </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The <span style=" font-family:'Courier New,courier'; font-weight:600;">network-manager</span> daemon </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">DHCP clients </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In most situations, the file to edit is the configuration file for such a program. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In the most complex situations, using </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> really is the way to go, though in more simple configurations it is probably overkill. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="The_resolv.conf_configuration_file"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">T</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">he resolv.conf configuration file</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The configuration file </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> at </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> contains information that allows a computer connected to a network to resolve names into addresses. (Note: Do not confuse this </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">configuration file</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> with the </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">program</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">, which unfortunately has a nearly identical name.) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> file typically contains the IP addresses of nameservers (DNS name resolvers) that will attempt to translate names into addresses for any node available on the network. There will be a line or lines that look like this: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-123"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">n</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ameserver 12.34.56.78</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">n</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ameserver 12.34.56.79</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In this example, the system is using nameservers at the IP addresses </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">12.34.56.78</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> and </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">12.34.56.79</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. Simply edit the file and enter the IP addresses of the nameservers you need to use after each </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">nameserver</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. Add more </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">nameserver</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> lines if you have more nameservers. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">Don't use this method if you have the </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;"> program installed.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file has many other options for defining how resolver looks up names. See </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">man resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> for details. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="The_resolvconf_program"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">T</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">he resolvconf program</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program keeps track of system information about the currently available nameservers. It should not be confused with the </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">configuration file</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">, which unfortunately has a nearly identical name. The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program is optional on a Debian system. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The configuration file </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> contains information about the nameservers to be used by the system. However, when multiple programs need to dynamically modify the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file they can step on each other and the file can become out-of-sync. The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program addresses this problem. It acts as an intermediary between programs that supply nameserver information (e.g. dhcp clients) and programs that use nameserver information (e.g. resolver). </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">When </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> is properly installed, the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file at </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> is replaced by a symbolic link to </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/resolvconf/run/resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> and the resolver instead uses the configuration file that is dynamically generated by </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> at </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/resolvconf/run/resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program is generally only necessary when a system has multiple programs that need to dynamically modify the nameserver information. In a simple system where the nameservers do not change often or are only changed by one program, the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file is adequate. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program is installed, you should not edit the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolv.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file manually as it will be dynamically changed by programs in the system. If you need to manually define the nameservers (as with a static interface), add a line something like the following to the </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> configuration file at </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/network/interfaces</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-142"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">d</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ns-nameservers 12.34.56.78 12.34.56.79</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Place the line indented within an </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">iface</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> stanza, e.g., right after the </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">gateway</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> line. Enter the IP addresses of the nameservers you need to use after </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">dns-nameservers</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. Put all of them on one line separated by spaces. Don't forget the &quot;</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">&quot; on the end of </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">dns-nameservers</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> program is a fairly new addition to Debian and many older programs need to be updated or reconfigured to work properly with it. If you have problems, see </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/usr/share/doc/resolvconf/README</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. It has lots of information on making other programs get along with </span><span style=" font-family:'Courier New,courier'; font-size:8pt; font-weight:600;">resolvconf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="DNS_configuration_for_NetworkManager"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">D</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">NS configuration for NetworkManager</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://wiki.debian.org/NetworkManager"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">NetworkManager</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> will override dhcp settings, overwriting resolv.conf even if you've configured DNS in /etc/dhcp/dhclient.conf, e.g. causing DNS to first search the local domain, which may have to time out before DNS resolution continues causing lengthy DNS resolution times. You can get an idea of what </span><a href="https://wiki.debian.org/NetworkManager"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">NetworkManager</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> thinks the settings should be by executing nm-tool at the command line. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">You may configure these settings using a GUI by launching nm-connection-editor which currently (13.11.23) isn't to be found in System Tools → Administration menu, rather it must be launched by hand from the command line. After launching: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Choose a connection (from the Wired or Wireless tab) and click Edit. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Click on the IPv4 Settings tab </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Choose 'Automatic (DHCP) addresses only' instead of just 'Automatic (DHCP)'. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Enter the DNS servers in the “DNS servers” field, separated by spaces (e.g. 208.67.222.222 for OpenDNS). </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Click “Apply.” </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://wiki.debian.org/NetworkManager"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">NetworkManager</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> saves these settings in </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/NetworkManager/system-connections/name-of-connection</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. Example </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/NetworkManager/system-connections/Wired connection 1</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> : </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-163"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">[</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">802-3-ethernet]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">d</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uplex=full</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">m</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ac-address=XX:XX:XX:XX:XX:XX</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">[</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">connection]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">d=Wired connection 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">u</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uid=xxx-xxxxxx-xxxxxx-xxxxxx-xxx</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">t</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ype=802-3-ethernet</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">t</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">imestamp=1385213042</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">[</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ipv6]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">m</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ethod=auto</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-14"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">[</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ipv4]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-15"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">m</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ethod=auto</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-16"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">d</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ns=208.67.222.222;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-17"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">gnore-auto-dns=true</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Running nm-tool again should show that </span><a href="https://wiki.debian.org/NetworkManager"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">NetworkManager</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> now has the right idea of how your DNS should be resolved. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="DHCP_Client_Configuration"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">D</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">HCP Client Configuration</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Example: dhclient3 uses </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/dhcp/dhclient.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. The setting you want is </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-189"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">upersede domain-name-servers 12.34.56.78, 12.34.56.79;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">or perhaps </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-195"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">p</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">repend domain-name-servers 12.34.56.78, 12.34.56.79;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">See the dhclient.conf(5) manual page for details. </span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Bridging"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">B</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ridging</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Bridging puts multiple interfaces into the same network segment. This is very popular when connecting a server to multiple switches for high availability or with virtualization. In the latter case it is usually used to create a bridge in the host (eg. dom0) and put the virtual interfaces of the guests (domU) into the bridge. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Example: Connect a server to 2 switches (via eth0 and eth1) by defining bridge 0 and give the server an IP address in this subnet: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-207"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto br0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face br0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.10.0.15</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway 10.10.0.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_ports eth0 eth1</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /usr/sbin/brctl stp br0 on</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If a server is connected to multiple switches then you usually need to run the spanning tree protocol to avoid loops. Therefore STP must be turned on via an &quot;up&quot; command as shown above. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Example: Bridge setup without IP address configuration (use &quot;manual&quot; instead of &quot;static&quot;) to &quot;forward&quot; an interface to a guest VM. (The static bridge config contains only 1 physical interface. The virtual interface will be added to the bridge when the VM is started.) </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-221"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto br1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face br1 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_ports eth4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /usr/sbin/brctl setageing br1 0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /usr/sbin/brctl stp br0 off</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Note: The Linux bridge supports only STP, no RSTP (Rapid Spanning Tree). Therefore it supports only the old STP Costs, not the new RSTP Costs (see </span><a href="https://en.wikipedia.org/wiki/Spanning_Tree_Protocol#Data_rate_and_STP_path_cost"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">Spanning_Tree_Protocol</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">). This is usually fine with Cisco Switches, but eg. Juniper switches use the RSTP costs and therefore this may lead to different spanning tree calculations and loop problems. This can be fixed by settings the costs manually, either on the switch or on the server. Setting the cost on the switch is preferred as Linux switches back to the default costs whenever an interface does down/up. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Bridging_without_Switching"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">B</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ridging without Switching</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">By default the Linux bridge acts like a switch. This means, it remembers the MAC addresses behind a switch port and if the destination MAC address is known, data packets or only forward to the respective port - otherwise packets will be broadcasted. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In some setups this is bad. For example if the bridge connects 2 trunk interfaces and the same MAC addresses may be seen from both interfaces, depending on the VLAN. As the Linux bridge does not support VLANs (dedicated MAC address tables per each VLAN), in such setups you have to disable the MAC address learning and put the bridge into a real &quot;bridge&quot; mode with: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-237"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /sbin/brctl setageing br0 0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-10"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /sbin/brctl stp br0 off</span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Howto_use_vlan_.28dot1q.2C_802.1q.2C_trunk.29_.28Etch.2C_Lenny.29"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">H</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">owto use vlan (dot1q, 802.1q, trunk) (Etch, Lenny)</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Manual_config"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">M</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">anual config</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-245"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">m</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">odprobe 8021q</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">pt-get install vlan</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">v</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">config add eth0 222    # 222 is vlan number</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">fconfig eth0.222 up</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">fconfig eth0.222 mtu 1496    #optional if your network card doesn't support MTU 1504B</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">fconfig eth0.222 10.10.10.1 netmask 255.255.255.0</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Network_init_script_config"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">N</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">etwork init script config</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Into /etc/modules add line: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-17"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">8</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">021q</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">In /etc/network/interfaces to section iface add parameter: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-18"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device eth0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The interface name should be the raw interface name (the same as specified by vlan-raw-device), then a dot, then the VLAN ID, for example eth0.100. It can instead be &quot;vlan&quot; then the VLAN ID, for example vlan100. In either case, the VLAN ID is on the end, and this is the only place that it is configured. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Note: If you name your VLAN interfaces ethX.YYY, then there is no need to specify the vlan-raw-device, as the raw device can be retrieved from the interface name. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Eg: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-19"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0.222</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-12"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0.222 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-10"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.10.10.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device eth0</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Bridges_and_VLANs"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">B</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ridges and VLANs</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you create VLAN interfaces only to put them into a bridge, there is no need to define the VLAN interfaces manually. Just config the bridge, and the VLAN interface will be created automatically when creating the bridge, e.g: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-283"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto br1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-13"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face br1 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-11"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_ports eth0.99 eth1.99</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up /usr/sbin/brctl stp br0 on</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Caveats_when_using_bridging_and_vlan"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">C</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">aveats when using bridging and vlan</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-292"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/network/interfaces</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-14"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0 bri0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-12"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 192.168.1.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0.110 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face bri0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 192.168.110.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_ports eth0.110</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_stp on</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-13-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bridge_maxwait 10</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">If you are using a brigded VLAN setup, which is probably useful for networking in virtualization environments, take care to only attach either a bridge device or VLAN devices to an underlying physical device - like shown above. Attaching the physical interface (eth0) to a bridge (eg. bri1) while using the same physical interface on apparently different VLANs will result in all packets to remain tagged. (Kernel newer than 2.6.37 and older than 3.2). </span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Howto_create_fault_tolerant_bonding_with_vlan_.28Etch.29"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">H</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">owto create fault tolerant bonding with vlan (Etch)</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image26177.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://wiki.debian.org/NetworkConfiguration?action=AttachFile&amp;do=view&amp;target=debian_bonding.dia"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; text-decoration: underline; color:#0000ff;">debian_bonding.dia</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">How to configure one of the above server active backup bonding 3 vlan {vlan10,vlan20,vlan30} </span><a name="line-316"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">D</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">ebian networking without SPOF without native vlan. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-319"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ptitude install vlan ifenslave-2.6</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Network_config"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">N</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">etwork config</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Cisco switch interface example config </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-325"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">nterface GigabitEthernet1/2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-15"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">description eth1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-13"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">switchport</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-10"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">switchport trunk encapsulation dot1q</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">switchport trunk allowed vlan 10,20,30</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">switchport mode trunk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">no ip address</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">no cdp enable</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">spanning-tree portfast trunk</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="bonding_with_active_backup"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">b</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">onding with active backup</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Create a file </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">/etc/modprobe.d/bonding.conf</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> containing: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-24"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">lias bond0 bonding</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-16"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">o</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">ptions bonding mode=active-backup miimon=100 downdelay=200 updelay=200 primary=eth1</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="A.2Fetc.2Fnetwork.2Finterfaces"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">/</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">etc/network/interfaces</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-342"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;"> The loopback network interface</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-17"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto lo</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-14"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face lo inet loopback</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-11"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;"> The primary network interface</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto bond0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face bond0 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up ifconfig bond0 0.0.0.0 up</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       slaves eth1 eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto vlan10</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face vlan10 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.10.10.12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-13-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device bond0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-14-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway 10.10.0.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-15-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       dns-search hup.hu</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-16-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       dns-nameservers 10.10.0.2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-17-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto vlan20</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-18"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face vlan20 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-19"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.20.10.12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-20"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-21"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device bond0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-22"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto vlan30</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-23"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face vlan30 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-24"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.30.10.12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-25"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.0.0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-26"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device bond0</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="How_to_set_the_MTU_.28Max_transfer_unit_.2F_packet_size.29_with_VLANS_over_a_bonded__interface"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">H</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ow to set the MTU (Max transfer unit / packet size) with VLANS over a bonded interface</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">MTU needs to be configured on the bonding interface and slave interfaces after the reset of the configuration has been applied to the bonding interfaces. This is done using a post-up line in the bonding interface configuration. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-26"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto bond0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-18"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face bond0 inet manual</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-15"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       up ifconfig lacptrunk0 0.0.0.0 up</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-12"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       slaves eth0 eth1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-10"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;"> bond-mode 4 = 802.3ad</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-mode 4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-miimon 100</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-downdelay 200</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-updelay 200</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-lacp-rate 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       bond-xmit-hash-policy layer2+3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       post-up ifconfig eth0 mtu 9000 &amp;&amp; ifconfig eth1 mtu 9000 &amp;&amp; ifconfig bond0 mtu 9000</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-14-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">vlan devices will use the MTU set on bond0 device</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-15-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto vlan101</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-16-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face vlan101 inet static</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-18-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 10.101.60.123</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-19-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-20-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       gateway 10.155.60.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-21-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device bond0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-23-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto vlan151</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-24-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face vlan151 inet static</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-26-1"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       address 192.168.1.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-27"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-28"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">       vlan-raw-device bond0</span></p>
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Multiple_IP_addresses_on_one_Interface"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">M</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">ultiple IP addresses on one Interface</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Interface aliasing allows one interface to have multiple IP addresses. This is useful when more than one server is to be visible </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">via</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> the Internet. Note that virtual hosts can support multiple Apache servers with a single IP address. Apache responds to the domain name supplied by the client in the HTTP header. In many other situations, one external IP is needed for each server using a port. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Legacy_method"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">L</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">egacy method</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">This /etc/network/interfaces text assigns three IP addresses to eth0. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-27"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-19"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">llow-hotplug eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-16"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-13"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.42</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-11"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   gateway 192.168.1.1</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0:0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">llow-hotplug eth0:0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0:0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.43</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-14-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0:1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-15-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">llow-hotplug eth0:1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-16-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0:1 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-17-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.44</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-18-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">An alias interface should not have &quot;gateway&quot; or &quot;dns-nameservers&quot;; dynamic IP assignment is permissible. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">The above configuration is the previous traditional method that reflects the traditional use of </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifconfig</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> to configure network devices. </span><a name="line-434"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">fconfig</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> has introduced the concept of </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">aliased</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> or </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">virtual</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> interfaces. Those types of virtual interfaces have names of the form </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">interface:integer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> and ifconfig treats them very similarly to real interfaces. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Nowadays </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifupdown</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> uses the </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ip</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> utility from the </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">iproute2</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> package instead of </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifconfig</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. The newer </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ip</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> utility does not use the same concept of aliases or virtual interfaces. However, it supports assigning arbitrary names to the interfaces (they're called labels). </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifupdown</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> uses this feature to support aliased interfaces while using </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ip</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="iproute2_method"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">proute2 method</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Also, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifupdown</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> supports specifying multiple interfaces by repeating </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">iface</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> sections with the same interface name. The key difference from the method described above is that all such sections are treated by </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">ifupdown</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> as just one interface, so user can't add or remove them individually. However, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">up</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">/</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-style:italic;">down</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;"> commands, as well as scripts, are called for every section as it used to be. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Note however that this method is </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt; font-weight:600;">dangerous</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">! Certain driver/hardware combinations may sometimes fail to bring the link up if no labels are assigned to the alias interfaces. (Seen this on Debian Wheezy and Jessie with RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 01) auto-negotiating to 10/full. A similar warning from another person exists in the history of this page.) </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">This /etc/network/interfaces text assigns three IP addresses to eth0. </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-28"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-20"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">llow-hotplug eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-17"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-14"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.42</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-12"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   gateway 192.168.1.1</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.43</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-13-5"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.44</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-14-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8pt;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-16-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8pt;"> adding IP addresses from different subnets is also possible</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-17-4"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-18-3"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 10.10.10.14</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-19-2"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8pt;">Manual approach: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-469"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">uto eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-21"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">llow-hotplug eth0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-3-18"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;">i</span><span style=" font-family:'Courier New,courier'; font-size:8pt;">face eth0 inet static</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-4-15"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   address 192.168.1.42  </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-5-13"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   netmask 255.255.255.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-6-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   gateway 192.168.1.1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-7-9"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   up   ip addr add 192.168.1.43/24 dev $IFACE label $IFACE:0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-8-8"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   down ip addr del 192.168.1.43/24 dev $IFACE label $IFACE:0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-9-7"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   up   ip addr add 192.168.1.44/24 dev $IFACE label $IFACE:1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-10-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   down ip addr del 192.168.1.44/24 dev $IFACE label $IFACE:1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-11-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   up   ip addr add 10.10.10.14/24 dev $IFACE label $IFACE:2</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-12-6"></a><span style=" font-family:'Courier New,courier'; font-size:8pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8pt;">   down ip addr del 10.10.10.14/24 dev $IFACE label $IFACE:2 </span></p></body></html>