<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Этот урок расскажет как настроить работающий почтовый сервер в Ubuntu или Debian. Как мы знаем, два главных протокола используются в почтовом сервере — это SMTP и POP/IMAP. В этом уроке postfix будет использован для SMTP, в то время как dovecot будет использоваться для POP/IMAP. Они оба с открытым исходным кодом, стабильные и имеют множество настроек.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Пожалуйста, обратите внимание, что вопросы безопасности почтового сервера за сферой данного урока, и они освещены в статье &quot;</span><a href="https://codeby.net/?p=2909"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">Как установить Clam Antivirus, SpamAssassin и MailScanner</span></a><a name="more-2893"></a><a href="https://codeby.net/?p=2909"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;"> </span></a><a href="https://codeby.net/?p=2909"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">на почтовом сервере под Ubuntu</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">&quot;.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Предварительные требования</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Каждый домен должен иметь запись на DNS сервере. Рекомендуется НЕ использовать живые домены для целей тестирования. В этом уроке тестовый домен example.tst будет использован в лабораторных условиях. DNS сервер для этого гипотетического домена имел бы, по крайней мере, следующие записи.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Прямая зона для example.tst:</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d656e748128120"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d656e748128120-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">                     IN MX </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">10</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">     mail.example.tst.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d656e748128120-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ail.example.tst.   IN A     </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">192.168.10.1</span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Обратная зона для example.tst:</span></li></ul>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d657b523391965"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d657b523391965-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">1</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">92.168.10.1</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">          IN </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">PTR </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">mail.example.tst.</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Когда настраивается живой почтовый сервер, эти записи могут быть изменены, в соответствии с системными требованиями.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Настройка имени хоста (hostname)</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Во-первых, hostname почтового сервера должно быть определено в /etc/hostname и /etc/hosts. Причём в первом файле следует размещать только имя хоста.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6582440599549"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6582440599549-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim /etc/hostname</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d6582440599549-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ail</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6588447936514"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6588447936514-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim /etc/hosts</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d658e174931705"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d658e174931705-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># IP                 Полностью определённое доменное имя       Имя хоста ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d658e174931705-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">1</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">92.168.10.1</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">          mail.example.</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">tst                          </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">mail</span></p></td></tr></table>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Добавление пользователей</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Каждый пользователь Linux, по умолчанию, имеет автоматически созданный почтовый ящик. Эти пользователи и почтовые ящики будут использоваться как почтовые учётные записи и соответствующие им адреса почтовых ящиков. Создание пользователя очень простое.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6595263604716"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6595263604716-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># adduser alex</span></p></td></tr></table>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Установка и настройка SMTP</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<table border="3" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#f9f9f9">
<tr>
<td colspan="2" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Профиль службы: postfix</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Каталог с конфигурационными файлами</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/etc/postfix/</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Скрипт</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/etc/init.d/postfix</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Лог-файл</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/var/log/mail.log</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Номер порта</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">TCP/25</span></p></td></tr></table>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">SMTP: Установка postfix</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><a href="http://www.postfix.org/"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">postfix</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> это один из наиболее используемых SMTP серверов, поскольку он стабильный, лёгкий, масштабируемый и высоко настраиваемый. Установка postfix может быть выполнена использованием apt-get.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d659c409812253"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d659c409812253-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># apt-get install postfix</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Во время установки задаются тип почтового сервера и доменное имя.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><img src="image15112.png" /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><img src="image27035.png" /></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Так как почтовый сервер будет отправлять письма напрямую к месту назначения, то нужно использовать &quot;Интернет-сайт&quot;.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><img src="image10312.png" /></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Также задаём доменное имя почтового сервера. Эта настройка определяет, что все письма, приходящие с этого почтового сервера, будут иметь</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> </span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:696; color:#4e4e4e;">@example.tst</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> в качестве домена отправителя.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Конфигурационные файлы postfix размещены в /etc/postfix. Важны следующие конфигурационные файлы. Некоторые из них могут отсутствовать и их нужно создать вручную.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">transport</span><span style=" font-size:15px;">: В первую очередь используется для определения, как почта должна быть направлена в направлении конкретного домена назначения. Это тот случай, когда кому-то может быть потребуется отправлять почту, предназначенную для домена XYZ.com, напрямую на IP адрес X.Y.Y.X независимо от каких-либо результатов запросов DNS.</span></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">access</span><span style=" font-size:15px;">: Может быть использован в целях безопасности, например для блокирования отправителей/получателей и их доменов.</span></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">aliases</span><span style=" font-size:15px;">: Используется для задания пользовательских псевдонимов. Например, почта отправленная пользователю userA должна быть принята пользователем userB, а также пользователем userC.</span></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">main.cf</span><span style=" font-size:15px;">: Это конфигурационный файл для postfix.</span></li></ul>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">SMTP: Настройка конфигурационных файлов</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Время приготовить конфигурационные файлы. Файлы transport и aliases не поставляются при установке, их нужно создать вручную.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65a6282524945"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65a6282524945-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># cd /etc/postfix</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65a6282524945-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># touch transport aliases</span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">main.cf</span></li></ul>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Сделайте резервную копию main.cf а затем модифицируйте. Следующие строки добавлены/изменены в конфигурационном файле. Для дальнейших подробностей о параметрах обратитесь к официальному</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> </span><a href="http://www.postfix.org/BASIC_CONFIGURATION_README.html"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">README</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> и </span><a href="http://www.postfix.org/postconf.5.html"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">документу по настройки</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ae364727946"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ae364727946-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim main.cf</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">5</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">6</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">7</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">8</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">9</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">10</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">11</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">12</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">13</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">14</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">15</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">16</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">17</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">18</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">19</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">20</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">21</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">22</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">23</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">24</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">25</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">26</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">27</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># имя сервера ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">yhostname = mail.example.tst</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-3"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-4"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># определение псевдонимов ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-5"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">a</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">lias_maps = hash:/etc/postfix/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">aliases</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-6"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">a</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">lias_database = hash:/etc/postfix/aliases</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-7"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-8"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># определение transport ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-9"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">t</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ransport_maps = hash:/etc/postfix/transport</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-10"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000; background-color:#f5f5f5;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-11"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># myorigin задаёт доменное имя для писем, берущих начало с этого сервера. В нашем случае, все исходящие письма должны иметь '@example.tst' в качестве домена отправителя ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-12"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">yorigin = example.tst</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-13"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-14"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># mydestination параметр определяет, какие домены эта машина будет доставлять локально вместо того, чтобы переправлять на другую машину. ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-15"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ydestination = mail.example.tst, localhost.example.tst, localhost, hash:/etc/postfix/transport</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-16"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000; background-color:#f5f5f5;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-17"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># адрес smarthost. В этом уроке не используется, о нём будет расказанов в будущей инструкции ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-18"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">elayhost =</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-19"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-20"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># доверенные сети отправителя. postfix не будет пересылать письма, приходящие из других сетей ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-21"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ynetworks = </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">127.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">8</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> [::ffff:</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">127.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">]/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">104</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> [::</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">1</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">]/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">128</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">192.168.10.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">24</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-22"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000; background-color:#f5f5f5;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-23"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># размер почтового ящика в байтах. 0 означает без ограничений ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-24"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ailbox_size_limit = </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-25"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65b4200451039-26"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># postfix будет прослушивать все доступные интерфейсы, например, eth0, eth1, eth2 и так далее ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65b4200451039-27"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">i</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">net_interfaces = all</span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">transport</span></li></ul>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Письмам, предназначенным для домена example.tst, определено быть доставлено локально без каких-либо DNS запросов.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65bc308474991"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65bc308474991-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim transport</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65c2117025021"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65c2117025021-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">e</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">xample.</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">tst </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">local:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d65c2117025021-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">.</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">example.</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">tst </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">local:</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65c8614418578"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65c8614418578-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># postmap transport</span></p></td></tr></table>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px; font-weight:696;">aliases</span></li></ul>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Предполагаем, что все письма, отправленные пользователю userA, должны быть доставлены также пользователю userB, для этого файл aliases изменён как показано ниже:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ce521922604"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ce521922604-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim aliases</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65d4157069965"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65d4157069965-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">u</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">serA: userA, userB</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65da015215153"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65da015215153-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/postfix</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># postalias aliases</span></p></td></tr></table>
<p style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#00b19e;">|   </span><a href="https://feedburner.google.com/fb/a/mailverify?uri=codeby_net"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">Хочу получать новые статьи на e-mail</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#00b19e;">   |</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Обратите внимание: Синтекс 'userA: userB' определяет, что почта должна быть направлена только пользователю userB. Пользователь userA не будет получать копию письма.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">SMTP: Запуск и обслуживание</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">postfix может быть запущен командой.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65e0462728479"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65e0462728479-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># service postfix restart</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Лог-файл в /var/log/mail.log должен предоставить полезную информацию, если что-то пойдёт не так. Прослушивает ли почтовый сервер TCP порт 25 можно также проверить используя netstat.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65e6641876864"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65e6641876864-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># netstat -nat</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ec403927530"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65ec403927530-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">t</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">cp </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">25</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:* LISTEN</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Как видно из вывода, сервер прослушивает TCP порт 25 для входящих запросов соединений.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Установка и настройка POP/IMAP</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<table border="3" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#f9f9f9">
<tr>
<td colspan="2" style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Профиль службы: dovecot</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Директория конфигурационных файлов</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/etc/dovecot</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Скрипт</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/etc/init.d/dovecot</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Файл журнала</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">/var/log/mail.log</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">Номер порта</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">TCP: 110 (POP3), 143 (IMAP), 993 (IMAPS), 995 (POP3S)<br /> </span></p></td></tr></table>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">POP/IMAP: Установка dovecot</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><a href="http://www.dovecot.org/"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">dovecot</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> — это, без сомнений, лидирующее IMAP и POP серверное программное обеспечения в сообществе опен сорс. Очень просто установить и настроить dovecot. Для установки dovecot мы опять будем использовать apt-get.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65f3467306402"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65f3467306402-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># apt-get install dovecot-common dovecot-pop3d dovecot-imapd</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Прямо из коробки dovecot может поддерживать POP3 и IMAP (обычный текст), а также зашифрованный POP3S и IMAPS (безопасный).</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: line-through; color:#4e4e4e;">По умолчанию dovecot создаёт и использует самоподписанный сертификат для SSL шифрования. Сертификаты могут быть созданы вручную или ипортированы позже, в зависимости от требований. В этом уроке будет использован сапомодписанный сертификат, сгенерированный dovecot.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">На последних версиях больше не создаёт. Сертификаты нужно создавать вручную и вручную подключать их. Как это сделать, описано</span><a href="https://codeby.net/?p=3770"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">в этой инструкции</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">POP/IMAP: Подготовка конфигурационных файлов</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Следующие параметры изменяются как нужно.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65fb326883607"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d65fb326883607-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># vim /etc/dovecot/conf.d/10-mail.conf</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6601891447009"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">3</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">4</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">5</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6601891447009-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># расположение почтовых ящиков, заданных в формате 'mbox' ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d6601891447009-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ail_location = mbox:~/mail:INBOX=/</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#1d881d;">var</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">/mail/%u</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6601891447009-3"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d6601891447009-4"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">#</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># dovecot даны необходимые разрешения на чтение/запись пользовательских почтовых ящиков ##</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6601891447009-5"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">m</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">ail_privileged_group = mail</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Этого должно быть достаточно для запуска службы POP/IMAP в почтовом сервере.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">POP/IMAP: Установка службы</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Сейчас, когда dovecot установлен и настроен, он может быть запущен, используя следующую команду.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6607073730975"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6607073730975-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:~</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># service dovecot restart</span></p></td></tr></table>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Вновь лог-файл (/var/log/mail.log) может предоставить важные зацепки, если что-то пойдёт не так. Узнать, запущен ли dovecot, можно при использовании netstat следующим образом.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d660e285485219"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d660e285485219-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">r</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">oot@mail:/etc/dovecot/conf.d</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;"># netstat -nat</span></p></td></tr></table>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Monaco,MonacoRegular,Courier New,monospace'; font-size:8pt; font-weight:496; color:#e0e2e4;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0">
<tr>
<td bgcolor="#f5f5f5" style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6614697598447"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a;">1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#81969a; background-color:#f5f5f5;">2</span></p></td>
<td style=" vertical-align:top; padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="crayon-58ca10d3d6614697598447-1"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">t</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">cp </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">110</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:* </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#3f3fff;">LISTEN</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f5f5f5;"><a name="crayon-58ca10d3d6614697598447-2"></a><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">t</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">cp </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">143</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;"> </span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#af0f91;">0.0.0.0</span><span style=" font-family:'inherit'; font-size:8pt; font-weight:496; color:#000000;">:* LISTEN</span></p></td></tr></table>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Использование почтового сервера с пользовательской почтовой программой</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Почтовый сервер теперь готов к использованию. Почтовая учётная запись может быть настроена с использованием вашего любимого почтового клиента на настольном компьютере, ноутбуке, планшете или телефоне. Можно настроить и webmail (почту с веб-интерфейсом) на сервере, но инструкция по webmail будет в следующих уроках. На данном этапе, почтовая программа Mozilla Thunderbird определила следующие настройки для моего сервера:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:36px; margin-right:36px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><img src="image24192.png" /></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Крайне рекомендуется перейти и продолжить по</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> </span><a href="https://codeby.net/?p=3770"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">этой инструкции</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> для включения SSL шифрования.</span></p>
<p style=" margin-top:19px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222; background-color:#f9f9f9;">Решение проблем с почтовым сервером</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#222222;"><br /></span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Лучший ваш друг — это лог-файл /var/log/mail.log. Любые зацепки, почему почта не работает, могут быть найдены здесь.</span></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Убедитесь, что файервол должным образом настроен.</span></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:15px;">Убедитесь, что DNS сервер имеет должные записи.</span></li></ul>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Подытоживая, демонстрация в этом уроке, как уже было упомянуто, проходила в лабораторных условиях. Может быть развёрнут тестовый DNS сервер со всеми необходимыми записями, и пользователи будут между собой обмениваться письмами на одном и том же сервере, например, том же домене. Чтобы сделать ещё интереснее, можно развернуть множество почтовых серверов с различными доменами, для проверки работы связи между доменами, для этого должны присутствовать необходимые DNS записи.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Валидные DNS записи необходимы для живых почтовых серверов. Можно сделать тюнинг настроек postfix и dovecot в соответствии с потребностями.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:696; color:#4e4e4e;">Внимание</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">: Для тех, кто хочет развернуть живой почтовый сервер, или любой почтовый сервер, который имеет доступ в Интернет, убедитесь, что ваш SMTP обезопасен. Обычно атаки на SMTP происходят из Интернета, так и от зловредных программ внутри локальной сети.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Надеюсь это поможет.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Эти программы нельзя установить на</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> </span><a href="http://www.hostland.ru/services/hosting/?r=ce7dc1ff"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">виртуальный хостинг</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">. Полностью автономный почтовый сервер можно сделать только на виртуальном частном (выделенном) сервере, т. е. На VDS (VPS). </span><a href="https://codeby.net/?p=1342"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">Самые дешёвые облачные VDS (VPS) сервера! За 180 рублей/мес</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> — эта статья, как следует из заголовка, расскажет вам о качественном и при этом самом дешёвом варианте виртуального частного сервера, которые при этом ещё и используют облачные технологии.</span></p>
<p style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20px; background-color:#f9f9f9;"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e; background-color:#f9f9f9;">Вообще, тема почты очень близка авторам</span><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> </span><a href="https://codeby.net/"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">codeby.net</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">, мы уже рассматривали в разное время вопросы создания почты на своих собственных доменах (это позволяет выбрать короткие и красивые имена для почтовых ящиков), как «прикрутить» свой домен к mail.ru да и вообще к любому популярному почтовому ящику, как создать свою автономную почту на </span><a href="http://www.hostland.ru/services/hosting/?r=ce7dc1ff"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">хостинге</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;"> и т. д. Всё это и многое другое вы сможете найти по тегу </span><a href="https://codeby.net/?tag=%D1%81%D0%B2%D0%BE%D1%8F-%D0%BF%D0%BE%D1%87%D1%82%D0%B0"><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; text-decoration: underline; color:#00b19e; background-color:transparent;">своя почта</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:8pt; font-weight:296; color:#4e4e4e;">.</span></p></body></html>