<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">You can use the </span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111; background-color:#ffffff;">useradd</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;"> or </span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111; background-color:#ffffff;">usermod</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;"> commands to add a user to a group. The useradd command creates a new user or update default new user information. The usermod command modifies a user account and it is useful to add user to existing groups. There are two types of groups under Linux operating systems:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px;"><a name="aswift_0_expand"></a><span style=" font-size:16px;">P</span><span style=" font-size:16px;">rimary user group.</span></li>
<li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:27px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">Secondary or supplementary user group.</span></li></ol>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">All user account related information are stored in the following files:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:0px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.cyberciti.biz/faq/understanding-etcpasswd-file-format/"><span style=" font-size:16px; text-decoration: underline; color:#808080;">/etc/passwd</span></a><span style=" font-size:16px;"> – Contains one line for each user account.</span></li>
<li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:0px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.cyberciti.biz/faq/understanding-etcshadow-file/"><span style=" font-size:16px; text-decoration: underline; color:#808080;">/etc/shadow</span></a><span style=" font-size:16px;"> – Contains the password information in encrypted formatfor the system’s accounts and optional account aging information.</span></li>
<li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:0px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://www.cyberciti.biz/faq/understanding-etcgroup-file/"><span style=" font-size:16px; text-decoration: underline; color:#808080;">/etc/group</span></a><span style=" font-size:16px;"> – Defines the groups on the system.</span></li>
<li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:0px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">/etc/default/useradd – This file contains a value for the default group, if none is specified by the useradd command.</span></li>
<li style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;" style=" margin-top:0px; margin-bottom:27px; margin-left:27px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:16px;">/etc/login.defs – This file defines the site-specific configuration for the shadow password suite stored in /etc/shadow file.</span></li></ol>
<p style=" margin-top:41px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:32px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#ff9900;">useradd Example</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> – Add </span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; font-style:italic; color:#111111;">a new user</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> to secondary group</span></p>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">You need to the useradd command to add new users to existing group (or create a new group and then add user). If group does not exist, create it. The syntax is as follows:</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;">useradd -G {</span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#996633; background-color:#fafbfc;">group-name</span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;">} </span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#663333; background-color:#fafbfc;">username</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />In this example, create a new user called vivek and add it to group called developers. First login as a root user (make sure group developers exists), enter:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># grep developers /etc/group</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Sample outputs:</span></p>
<pre style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#fafbfc;"><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;">developers:x:1124:</span></pre>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">If you do not see any output then you need to add group developers using the groupadd command:</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># groupadd developers</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Verify that user vivek does not exists:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># grep ^vivek /etc/passwd</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />You should not see any outputs from above command. Finally, </span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; font-weight:600; color:#111111;">add a new user called vivek</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"> to group developers:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># useradd -G developers vivek</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Setup password for user vivek:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># passwd vivek</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Ensure that user added properly to group developers:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># id vivek</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Sample outputs:</span></p>
<pre style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#fafbfc;"><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;">uid=1122(vivek) gid=1125(vivek) groups=1125(vivek),1124(developers)</span></pre>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">Please note that capital G (</span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-G</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">) option add user to a list of supplementary groups. Each group is separated from the next by a comma, with no intervening whitespace. For example, add user jerry to groups admins, ftp, www, and developers, enter:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># useradd -G admins,ftp,www,developers jerry</span></p>
<p style=" margin-top:41px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:32px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#009900;">useradd example</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> – Add </span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; font-style:italic; color:#111111;">a new user</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> to primary group</span></p>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">To add a user tony to group developers use the following command:</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># useradd -g developers tony<br /># id tony</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />Sample outputs:</span></p>
<pre style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#fafbfc;"><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;">uid=1123(tony) gid=1124(developers) groups=1124(developers)</span></pre>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">Please note that small g (</span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-g</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">) option add user to initial login group (primary group). The group name must exist. A group number must refer to an already existing group.</span></p>
<p style=" margin-top:41px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:32px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#ff9900;">usermod example</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> – Add</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; font-style:italic; color:#111111;"> a existing user</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111;"> to existing group</span></p>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">Add existing user tony to ftp supplementary/secondary group with the usermod command using the</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"> </span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-a</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"> option ~ i.e. add the user to the supplemental group(s). Use only with </span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-G</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">option:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># usermod -a -G ftp tony</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br />In this example, change tony user’s primary group to www, enter:<br /></span><span style=" font-family:'Consolas,Monaco,Menlo,Courier,Verdana,sans-serif'; font-size:16px; color:#666666; background-color:#fafbfc;"># usermod -g www tony</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:large; font-weight:600; color:#111111; background-color:#ffffff;">usermod command options summary</span></p>
<table border="1" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="2" cellpadding="0" bgcolor="#ffffff">
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; font-weight:600; color:#111111;">Option</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="center" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; font-weight:600; color:#111111;">Purpose</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-a</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br /></span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">--append</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">Add the user to the supplementary group(s). Use only with the </span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-G</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">option.</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-g GROUP<br />--gid GROUP</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">Use this GROUP as the default group.</span></p></td></tr>
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">-G GRP1,GRP2</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;"><br /></span><span style=" font-family:'Courier New,courier'; font-size:16px; color:#111111;">--groups GRP1,GRP2</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111;">Add the user to GRP1,GRP2 secondary group.</span></p></td></tr></table>
<p style=" margin-top:41px; margin-bottom:14px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:32px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:x-large; color:#111111; background-color:#ffffff;">A note about security</span></p>
<p style=" margin-top:0px; margin-bottom:27px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:27px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:16px; color:#111111; background-color:#ffffff;">If you add or delete user to existing group, you must change the owner of any crontab files or at jobs manually. You must make any changes involving NIS on the NIS server too.</span></p></body></html>