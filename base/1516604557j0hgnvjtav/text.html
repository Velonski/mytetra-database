<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">We all are aware about the most popular command called ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ or ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">adduser</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ in Linux. There are times when a Linux System Administrator asked to create user accounts on Linux  with some specific properties, limitations or comments.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In Linux, a ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command is a low-level utility that is used for adding/creating user accounts in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Linux</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and other </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Unix-like</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> operating systems. The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">adduser</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ is much similar to </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> command, because it is just a symbolic link to it.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image29725.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">useradd command examples</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In some other Linux distributions, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> command may comes with lightly difference version. I suggest you to read your documentation, before using our instructions to create new user accounts in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Linux</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">When we run ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command in Linux terminal, it performs following major things:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It edits /etc/passwd, /etc/shadow, /etc/group and /etc/gshadow files for the newly created User account.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Creates and populate a home directory for the new user.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sets permissions and ownerships to home directory.</li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Basic syntax of command is:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">useradd [options] username</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In this article we will show you the most used </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">15 useradd commands</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> with their practical examples in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Linux</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. We have divided the section into two parts from </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Basic</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> to </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Advance</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> usage of command.</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Part I</span>: Basic usage with <span style=" font-weight:600;">10</span> examples</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Part II</span>: Advance usage with <span style=" font-weight:600;">5</span> examples</li></ol>
<p align="center" style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#faffc6;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; color:#333333;">Part I – </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; color:#ff0000;">10 Basic Usage of useradd Commands</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">1. How to Add a New User in Linux</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">To add/create a new user, all you’ve to follow the command ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ or ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">adduser</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with ‘username’. The ‘username’ is a user login name, that is used by user to login into the system.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Only one user can be added and that username must be unique (different from other username already exists on the system).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">For example, to add a new user called ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘, use the following command.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd tecmint</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">When we add a new user in Linux with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command it gets created in locked state and to unlock that user account, we need to set a password for that account with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# passwd tecmint</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Changing password for user tecmint.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">New UNIX password:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Retype new UNIX password:</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">passwd: all authentication tokens updated successfully.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Once a new user created, it’s entry automatically added to the ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ file. The file is used to store users information and the entry should be.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">tecmint:x:504:504:tecmint:/home/tecmint:/bin/bash</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The above entry contains a set of seven colon-separated fields, each field has it’s own meaning. Let’s see what are these fields:</span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Username</span>: User login name used to login into system. It should be between 1 to 32 charcters long.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Password</span>: User password (or x character) stored in /etc/shadow file in encrypted format.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">User ID (UID)</span>: Every user must have a User ID (UID) User Identification Number. By default UID 0 is reserved for root user and UID’s ranging from 1-99 are reserved for other predefined accounts. Further UID’s ranging from 100-999 are reserved for system accounts and groups.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Group ID (GID)</span>: The primary Group ID (GID) Group Identification Number stored in /etc/group file.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">User Info</span>: This field is optional and allow you to define extra information about the user. For example, user full name. This field is filled by ‘finger’ command.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Home Directory</span>: The absolute location of user’s home directory.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Shell</span>: The absolute location of a user’s shell i.e. /bin/bash.</li></ol>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">2. Create a User with Different Home Directory</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">By default ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command creates a user’s home directory under</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;"> /home</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> directory with username. Thus, for example, we’ve seen above the default home directory for the user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ is ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/home/tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">However, this action can be changed by using ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option along with the location of new home directory (i.e.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;"> /data/projects</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">). For example, the following command will create a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">anusha</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with a home directory ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/data/projects</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -d /data/projects anusha</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">You can see the user home directory and other user related information like user id, group id, shell and comments.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# cat /etc/passwd | grep anusha</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">anusha</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:x:505:505::</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">/data/projects</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:/bin/bash</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">3. Create a User with Specific User ID</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In Linux, every user has its own </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">UID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Unique Identification Number</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">). By default, whenever we create a new user accounts in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Linux</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, it assigns userid </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">500</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">501</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">502</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and so on…</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">But, we can create user’s with custom userid with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-u</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option. For example, the following command will create a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">navin</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with custom userid ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">999</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -u 999 navin</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Now, let’s verify that the user created with a defined userid (</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">999</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">) using following command.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# cat /etc/passwd | grep tecmint</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">navin:x:</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">999</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:999::/home/tecmint:/bin/bash</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; color:#ff0000;">NOTE</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">: Make sure the value of a user ID must be unique from any other already created users on the system.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">4. Create a User with Specific Group ID</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Similarly, every user has its own </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">GID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Group Identification Number</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">). We can create users with specific group ID’s as well with </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-g</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> option.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here in this example, we will add a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tarunika</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with a specific </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">UID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">GID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> simultaneously with the help of ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-u</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ and ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-g</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ options.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -u 1000 -g 500 tarunika</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Now, see the assigned user id and group id in ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ file.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# cat /etc/passwd | grep tarunika</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">tarunika</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:x:</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">1000</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">500</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">::/home/tarunika:/bin/bash</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">5. Add a User to Multiple Groups</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-G</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option is used to add a user to additional groups. Each group name is separated by a comma, with no intervening spaces.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here in this example, we are adding a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ into multiple groups like </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">admins</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">webadmin</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">developer</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -G admins,webadmin,developers tecmint</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Next, verify that the multiple groups assigned to the user with id command.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# id tecmint</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">uid=1001(tecmint) gid=1001(tecmint)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">groups=1001(</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">),500(</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">admins</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">),501(</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">webadmin</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">),502(</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">developers</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">)</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">context=root:system_r:unconfined_t:SystemLow-SystemHigh</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">6. Add a User without Home Directory</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In some situations, where we don’t want to assign a home directories for a user’s, due to some security reasons. In such situation, when a user logs into a system that has just restarted, its home directory will be root. When such user uses </span><a href="https://www.tecmint.com/su-vs-sudo-and-how-to-configure-sudo-in-linux/"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">su command</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, its login directory will be the previous user home directory.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">To create user’s without their home directories, ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-M</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ is used. For example, the following command will create a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">shilpi</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ without a home directory.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -M shilpi</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Now, let’s verify that the user is created without home directory, using ls command.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# ls -l /home/shilpi</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ls: cannot access </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">/home/shilpi</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">: No such file or directory</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">7. Create a User with Account Expiry Date</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">By default, when we add user’s with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command user account never get expires i.e their expiry date is set to </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">0</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (means never expired).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">However, we can set the expiry date using ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-e</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option, that sets date in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">YYYY-MM-DD</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> format. This is helpful for creating temporary accounts for a specific period of time.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here in this example, we create a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">aparna</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with account expiry date i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">27th April 2014</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> in </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">YYYY-MM-DD</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> format.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -e 2014-03-27 aparna</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Next, verify the age of account and password with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">chage</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command for user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">aparna</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ after setting account expiry date.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# chage -l aparna</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Last password change						: Mar 28, 2014</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Password expires						: never</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Password inactive						: never</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Account expires							: Mar 27, 2014</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Minimum number of days between password change		        : 0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Maximum number of days between password change		        : 99999</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">Number of days of warning before password expires		: 7</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">8. Create a User with Password Expiry Date</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-f</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ argument is used to define the number of days after a password expires. A value of </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">0</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> inactive the user account as soon as the password has expired. By default, the password expiry value set to </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-1</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> means never expire.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here in this example, we will set a account password expiry date i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">45 days</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> on a user ‘tecmint’ using ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-e</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ and ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-f</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ options.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -e 2014-04-27 -f 45 tecmint</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">9. Add a User with Custom Comments</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option allows you to add custom comments, such as user’s </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">full name</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">phone number</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, etc to </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> file. The comment can be added as a single line without any spaces.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">For example, the following command will add a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">mansi</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ and would insert that user’s full name, </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Manis Khurana</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, into the comment field.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -c &quot;Manis Khurana&quot; mansi</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">You can see your comments in ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ file in comments section.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# tail -1 /etc/passwd</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">mansi</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:x:1006:1008:</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">Manis Khurana</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:/home/mansi:/bin/sh</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">10. Change User Login Shell:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Sometimes, we add users which has nothing to do with login shell or sometimes we require to assign different shells to our users. We can assign different login shells to a each user with ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here in this example, will add a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ without login shell i.e. ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/sbin/nologin</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ shell.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -s /sbin/nologin tecmint</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">You can check assigned shell to the user in ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ file.</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# tail -1 /etc/passwd</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">tecmint</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">:x:1002:1002::/home/tecmint:</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;">/sbin/nologin</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600;"><br /></p>
<p align="center" style=" margin-top:10px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#faffc6;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; color:#333333;">Part II – </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; color:#ff0000;">5 Advance Usage of useradd Commands</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">11. Add a User with Specific Home Directory, Default Shell and Custom Comment</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The following command will create a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ravi</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with home directory ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/var/www/tecmint</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘, default shell </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/bin/bash</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and adds extra information about user.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -m -d /var/www/ravi -s /bin/bash -c &quot;TecMint Owner&quot; -U ravi</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In the above command ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-m -d</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option creates a user with specified home directory and the ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option set the user’s default shell i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/bin/bash</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option adds the extra information about user and ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-U</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ argument create/adds a group with the same name as the user.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">12. Add a User with Home Directory, Custom Shell, Custom Comment and UID/GID</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The command is very similar to above, but here we defining shell as ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/bin/zsh</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ and custom </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">UID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">GID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> to a user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">tarunika</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘. Where ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-u</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ defines new user’s </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">UID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">1000</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">) and whereas ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-g</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ defines </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">GID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">1000</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -m -d /var/www/tarunika -s /bin/zsh -c &quot;TecMint Technical Writer&quot; -u 1000 -g 1000 tarunika</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">13. Add a User with Home Directory, No Shell, Custom Comment and User ID</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The following command is very much similar to above two commands, the only difference is here, that we disabling login shell to a user called ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">avishek</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ with custom </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">User ID</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> (i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">1019</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Here ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option adds the default shell </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/bin/bash</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, but in this case we set login to ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/usr/sbin/nologin</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘. That means user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">avishek</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ will not able to login into the system.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -m -d /var/www/avishek -s /usr/sbin/nologin -c &quot;TecMint Sr. Technical Writer&quot; -u 1019 avishek</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">14. Add a User with Home Directory, Shell, Custom Skell/Comment and User ID</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The only change in this command is, we used ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-k</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option to set custom skeleton directory i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/custom.skell</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, not the default one </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/etc/skel</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. We also used ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option to define different shell i.e. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">/bin/tcsh</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> to user ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">navin</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -m -d /var/www/navin -k /etc/custom.skell -s /bin/tcsh -c &quot;No Active Member of TecMint&quot; -u 1027 navin</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">15. Add a User without Home Directory, No Shell, No Group and Custom Comment</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">This following command is very different than the other commands explained above. Here we used ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-M</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ option to create user without user’s home directory and ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-N</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ argument is used that tells the system to only create username (without group). The ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">-r</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ arguments is for creating a system user.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[root@tecmint ~]# useradd -M -N -r -s /bin/false -c &quot;Disabled TecMint Member&quot; clayton</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">For more information and options about useradd, run ‘</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">useradd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">‘ command on the terminal to see available options.</span></p></body></html>