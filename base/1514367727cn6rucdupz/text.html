<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Introduction"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">I</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ntroduction</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">SSH</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> stands for </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">ecure </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Sh</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">ell and is a protocol for secure remote login and other secure network services over an insecure network</span><a name="fndef-63a1f282d709958c25288feaa9af5dd1468e00c9-0"></a><a href="https://wiki.debian.org/SSH#fnref-63a1f282d709958c25288feaa9af5dd1468e00c9"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff; vertical-align:super;">1</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. </span><a name="line-11"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">ee </span><a href="https://en.wikipedia.org/wiki/Secure_Shell"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">Wikipedia - Secure Shell</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> for more general information and </span><a href="https://packages.debian.org/ssh"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">ssh</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, </span><a href="https://packages.debian.org/lsh-client"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">lsh-client</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> or </span><a href="https://packages.debian.org/dropbear"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">dropbear</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> for the SSH software implementations out of which </span><a href="http://www.openssh.org/"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">OpenSSH</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is the most popular and most widely used</span><a name="fndef-6ca01b6ee84d73e1c8b89d7ecca1821539729faf-1"></a><a href="https://wiki.debian.org/SSH#fnref-6ca01b6ee84d73e1c8b89d7ecca1821539729faf"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff; vertical-align:super;">2</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. </span><a name="line-12"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">SH replaces the unencrypted </span><a href="https://en.wikipedia.org/wiki/Telnet"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">telnet</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">,</span><a href="https://en.wikipedia.org/wiki/Rlogin"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">rlogin</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and </span><a href="https://en.wikipedia.org/wiki/Remote_shell"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">rsh</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and adds many features. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In this document we'll be using the OpenSSH command suite, it will also be assumed that the following two variables are defined: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-17"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">r</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">emote_host=&lt;the remote computer&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">r</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">emote_user=&lt;your user name on $remote_host&gt;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">So, if you want to use the recipes below, first set these variables to the remote computer name and the user name on that remote computer. Then cut and paste of the commands below should work. remote_host may also be an IP-address. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Installation"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">I</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">nstallation</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Installation_of_the_client"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">I</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">nstallation of the client</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Normally the client is installed by default. If not it suffices to run as root: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-28"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">pt-get install openssh-client</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Installation_of_the_server"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">I</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">nstallation of the server</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The server allows to connect remotely and gets installed by running as root: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-36"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">pt-get install openssh-server</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Configuration_files"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">C</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">onfiguration files</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">The main configuration files are in the directory </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">/etc/ssh</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> : </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">ssh_config</span> : client configuration file </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">sshd_config</span> : server configuration file </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">In addition this directory contains the private/public key pairs </span><a name="line-47"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">i</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">dentifying your host : </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_dsa_key </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_dsa_key.pub </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_rsa_key </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_rsa_key.pub </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Since OpenSSH 5.7</span><a name="fndef-ec98daa21c75e0bc3a7a37fd41affc099930c8e4-2"></a><a href="https://wiki.debian.org/SSH#fnref-ec98daa21c75e0bc3a7a37fd41affc099930c8e4"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff; vertical-align:super;">3</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, a new private/public key pair is available: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_ecdsa_key </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_ecdsa_key.pub </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Since OpenSSH 6.5</span><a name="fndef-8b87afa1ddeefe07a0cdf9368f026b9ce6d5ba99-3"></a><a href="https://wiki.debian.org/SSH#fnref-8b87afa1ddeefe07a0cdf9368f026b9ce6d5ba99"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff; vertical-align:super;">4</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, a new private/public key pair is available: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_ed25519_key </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ssh_host_ed25519_key.pub </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Regenerating_host_keys"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">R</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">egenerating host keys</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-67"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">r</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">m /etc/ssh/ssh_host_*</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-2-1"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">d</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">pkg-reconfigure openssh-server</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Remote_login"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">R</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">emote login</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="With_password"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">W</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ith password</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">If you want to login to $remote_host as user $remote_user simply type </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-78"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">sh $remote_user@$remote_host</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">and then type in your password. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">If the usernames on the local and the remote computer are identical, you can drop the $remote_user@-part and simply write </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-86"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">sh $remote_host</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">If this is the first time you login to the remote computer, ssh will ask you whether you are sure you want to connect to the remote computer. Answer 'yes' after you verified the remote computer's fingerprint, type in your password, and ssh will connect you to the remote host. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Using_shared_keys"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">U</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">sing shared keys</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">One of the functions of ssh is using a pair of private/public keys to connect to a remote host. Also known as </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600; font-style:italic;">SSH keys</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. This method allows you to login to a remote host without typing your password every time. To do this you must generate a pair of private/public keys on your local machine and deposit the public key on the remote host. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">To generate the key, use the program ssh-keygen as follows </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-98"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">sh-keygen -t rsa</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">This program generates a pair of private/public keys in the directory ~/.ssh. The program first asks for the destination files for the keys, by default located in ~/.ssh. Afterwards a passphrase is requested. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Note: We recommend not to leave the passphrase empty. An attacker who gets hold of your private key can otherwise connect to the hosts where you deposited you public key since the passphrase is empty. Choose a long and complex passphrase. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Your private key is id_rsa (don't give it to someone else), your public key is id_rsa.pub. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">You copy your public key to a remote host with the command </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ssh-copy-id</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-110"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">sh-copy-id -i ~/.ssh/id_rsa.pub $remote_user@$remote_host</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Now you can connect simply to the remote host and the passphase is asked for. Once done, you get connected to the remote host. In case of a new connection the passphrase does not get asked for again during your entire session. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Keys_management"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">K</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">eys management</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Using_GUI"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">U</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">sing GUI</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Optionally, </span><a href="https://packages.debian.org/seahorse"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">seahorse</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is a GNOME application which easily manage encryption keys and passwords through an intuitive Graphical User Interface (GUI). Seahorse is able to do various operations. Such as create SSH or PGP keys, configure them, and cache them. </span><a href="https://wiki.debian.org/Seahorse"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">Read more</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Securing"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ecuring</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SSH_Server"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">SH Server</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">By default a SSH server is relatively secure. With the help of some good practices, configuration options, and external utilities it is possible to make it even harder for 'robots' and </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">crackers</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Good_practices_with_SSH_Server"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">G</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ood practices with SSH Server</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3639.png" /> Apply <a href="https://packages.debian.org/openssh-server"><span style=" text-decoration: underline; color:#0000ff;">openssh-server</span></a> security updates as soon as possible. Which allows to protect against known security holes. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://wiki.debian.org/SSH#Configuration_Options"><span style=" text-decoration: underline; color:#0000ff;">Activate SSH keys authentication</span></a> only with passwords/passphrases. Deactivate password only authentication. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Consider using <a href="https://packages.debian.org/fail2ban"><span style=" text-decoration: underline; color:#0000ff;">fail2ban</span></a> which is a log file monitor that automatically bans an ip address after a predefined number of failed login attempts. Which automatically guards against <a href="https://en.wikipedia.org/wiki/Brute-force_attack"><span style=" text-decoration: underline; color:#0000ff;">brute-force attacks</span></a>. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">More good practices for using ssh at <a href="http://lackof.org/taggart/hacking/ssh/"><span style=" text-decoration: underline; color:#0000ff;">http://lackof.org/taggart/hacking/ssh/</span></a> </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Configuration_Options"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">C</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">onfiguration Options</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image19784.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> One should edit the file /etc/ssh/sshd_config to change the parameters and then restart the ssh server with </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-8"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ervice ssh restart</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Deactivate using passwords for authentication (<span style=" font-style:italic;">PasswordAuthentication no</span>). </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Deactivate using the root account (<span style=" font-style:italic;">PermitRootLogin no</span>). </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Only allow login by certain users or groups (<span style=" font-style:italic;">AllowUsers</span> and <span style=" font-style:italic;">AllowGroups</span>) </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image17833.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> The options </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">AllowUsers</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> and </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">AllowGroups</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> do not improve the security of a SSH server. But in certain cases their use allows to resist a </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">brute force</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> attack a little longer. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="External_Utilities"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">E</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">xternal Utilities</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://packages.debian.org/fail2ban"><span style=" text-decoration: underline; color:#0000ff;">fail2ban</span></a> : allows to automatically blacklist IPs attempting to <span style=" font-style:italic;">brute force</span> a SSH server with the help of <a href="https://packages.debian.org/iptables"><span style=" text-decoration: underline; color:#0000ff;">iptables</span></a>. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://packages.debian.org/denyhosts"><span style=" text-decoration: underline; color:#0000ff;">denyhosts</span></a> : as <a href="https://packages.debian.org/fail2ban"><span style=" text-decoration: underline; color:#0000ff;">fail2ban</span></a>, <a href="https://packages.debian.org/denyhosts"><span style=" text-decoration: underline; color:#0000ff;">denyhosts</span></a> allows to block IP addresses trying to brute force a connection to ssh. But in contrast to <a href="https://packages.debian.org/fail2ban"><span style=" text-decoration: underline; color:#0000ff;">fail2ban</span></a> it does not use <a href="https://packages.debian.org/iptables"><span style=" text-decoration: underline; color:#0000ff;">iptables</span></a>, but the file <span style=" font-style:italic;">/etc/hosts.deny</span>. </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SSH_Client"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">SH Client</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Good_practices_with_SSH_Client"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">G</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ood practices with SSH Client</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3639.png" /> Apply <a href="https://packages.debian.org/openssh-client"><span style=" text-decoration: underline; color:#0000ff;">openssh-client</span></a> security updates as soon as possible. Which allows to protect against known security holes. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Use <a href="https://wiki.debian.org/SSH#Using_shared_keys"><span style=" text-decoration: underline; color:#0000ff;">SSH keys</span></a> authentication. Rather than password authentication. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Add <a href="https://en.wikipedia.org/wiki/Password_strength#Guidelines_for_strong_passwords"><span style=" text-decoration: underline; color:#0000ff;">strong passwords</span></a>/passphrases to your SSH keys. This reduce risk of <a href="https://en.wikipedia.org/wiki/Brute-force_attack"><span style=" text-decoration: underline; color:#0000ff;">brute-force attacks</span></a>. </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Additional_Functions"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">A</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">dditional Functions</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Additional_Commands"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">A</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">dditional Commands</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="scp"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">cp</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">scp</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is a command line utilty allowing to transfer files between two machines. </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Sending a file: </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-170"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">cp $source_file $remote_user@$remote_host:$destination_file</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Copying a file to the local machine: </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-174"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">cp $remote_user@$remote_host:$source_file $destination_file</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="sftp"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ftp</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">[empty for now] </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="text_mode"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">t</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ext mode</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">[empty for now] </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="graphical_mode"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">g</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">raphical mode</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">[empty for now] </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="clusterssh"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">c</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">lusterssh</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">[empty for now] </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ssh-agent_and_ssh-add"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">sh-agent and ssh-add</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">ssh-agent</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is a useful utility to manage private keys and their passphrases. It should be invoked at the beginning of your session like so on a bourne shell: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-11"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">e</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">val `ssh-agent -s`</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">or on a C shell: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-12"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">e</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">val `ssh-agent -c`</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">When a private key is first needed, you are prompted for its passphrase and ssh-agent remembers the key. Whenever that private key is used later on, the passphrase doesn't get asked anymore. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">ssh-add</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> can be used to manage the remembered keys: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Adding a key: <span style=" font-weight:600;">ssh-add $private_key</span> </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">List the added keys: <span style=" font-weight:600;">ssh-add -l</span> </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Remove all keys from the knowledge of <span style=" font-style:italic;">ssh-agent</span>: <span style=" font-weight:600;">ssh-add -D</span> </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="keychain"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">k</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">eychain</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.funtoo.org/Keychain"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">Keychain</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, provided by the package </span><a href="https://packages.debian.org/keychain"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">keychain</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">, is a shell script allowing to use the ssh agent in multiple sessions of the same computer. In effect after the first start ssh-agent creates a permanent socket allowing the communication with ssh. This socket is referenced only in the enviromment of the session in which the agent was started. Keychain allows to detect the agent and propagate the access to this agent to other sessions; this allows to use a single instace of ssh-agent per user on a machine. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ssh-askpass"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">s</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">sh-askpass</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://packages.debian.org/ssh-askpass"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic; text-decoration: underline; color:#0000ff;">ssh-askpass</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is an utility to simply the question for the password of a private key when using it. Several implementations exist: </span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">x11-ssh-askpass</span> : version for X11 </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">kaskpass</span> : integration of ssh-askpass into the KDE environment </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">ssh-askpass-gnome</span> : integration of ssh-askpass into the Gnome environment </li></ul>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="libpam-usb"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">l</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">ibpam-usb</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://packages.debian.org/libpam-usb"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic; text-decoration: underline; color:#0000ff;">libpam-usb</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is an utility (only available up to Debian Jessie) allowing authentication with an USB stick. This package includes a useful utilty : </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">pamusb-agent</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. This utility, once correctly configured, allows to load the SSH keys present on the USB stick once it is connected and to unload them when it is disconnected. </span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'MS Shell Dlg 2'; font-size:8.25pt;"><br /></p>
<hr />
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-224"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">R</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">emote commands</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">If you just want to run one command on the remote computer, you don't need to login. You can tell ssh to run the command without login, for instance, </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-230"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">sh $remote_user@$remote_host 'ls *.txt'</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">lists all files with extension .txt on the remote computer. This works with single tick quotes '...' as shown here, with double tick quotes &quot;...&quot;, and without quotes. There may be differences between these three cases, though, not yet documented here. </span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SSH_into_Debian_from_another_OS"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">SH into Debian from another OS</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/"><span style=" text-decoration: underline; color:#0000ff;">PuTTY</span></a> is a <a href="https://wiki.debian.org/TerminalEmulator"><span style=" text-decoration: underline; color:#0000ff;">terminal emulator</span></a> application which can act as a client for ssh. It's widely used by Windows users. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Wikipedia has <a href="https://en.wikipedia.org/wiki/Comparison_of_SSH_clients"><span style=" text-decoration: underline; color:#0000ff;">Comparison_of_SSH_clients</span></a> </li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Troubleshooting"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">T</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">roubleshooting</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="OpenSSL_version_mismatch._Built_against_1000105f.2C_you_have_10001060"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">O</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">penSSL version mismatch. Built against 1000105f, you have 10001060</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">If you get an error message like this when starting the </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ssh</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> daemon, you need to run: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-14"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">a</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">pt-get install openssh-server openssh-client</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Also see </span><a href="https://bugs.debian.org/732940"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">the bug report</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. </span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="SSH_hangs"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">S</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">SH hangs</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Issue</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">You are trying to SSH into a remote computer. But during SSH log-in the session hangs/freezes indefinitely. Thus you are not presented with the command prompt. And you are not able to use any SSH commands </span><img src="image19709.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span><a name="line-255"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">W</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">hen using SSH debug mode the session hangs at this line </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">debug2:channel0:openconfirmrwindow0rmax32768</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">Possible cause</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">With some routers behind NAT and when using OpenSSH. During session setup, after the password has been given, OpenSSH sets the TOS (type of service) field in the IP datagram. The router choke on this. The effect is that your SSH session hangs indefinitely. In other words, SSH commands or connections are seldom working or not working at all. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Resolution_with_IPQoS_0x00"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">R</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">esolution with IPQoS 0x00</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Until your router manufacturer fix their firmware. Here is one option to resolve that issue: </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Double check your <a href="https://packages.debian.org/openssh-server"><span style=" text-decoration: underline; color:#0000ff;">openssh-server</span></a> and <a href="https://packages.debian.org/openssh-client"><span style=" text-decoration: underline; color:#0000ff;">openssh-client</span></a> version are 5.7 or more recent. For example the resolution below should work with Debian 7.11 Wheezy or more recent as it comes with OpenSSH version 6.0. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Edit one of the following two files located at: </li>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-15"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">~</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">/.ssh/config</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">or </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-16"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">/</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">etc/ssh/ssh_config</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Note: </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">config</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> file is per user and </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">ssh_config</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> file is for all users and system wide. If unsure edit the appropriate user </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">config</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> file. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">File content before </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-17"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">H</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ost *</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">File content after </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-18"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">H</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ost *</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-2-2"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> IPQoS 0x00</span></p>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If you have any Terminal/Console window(s) already open. Fully close all of them. Doing so will close any active SSH sessions. </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">No need to restart OpenSSH or your Debian. Try again to SSH into any remote server. It should work. Done you have successfully fixed that issue <img src="image29193.png" /> </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Thanks to Joe and catmaker for this tip </span><img src="image29193.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Related documentation at </span><a href="https://www.openssh.com/txt/release-5.7"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">https://www.openssh.com/txt/release-5.7</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Resolution_with_netcat"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">R</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">esolution with netcat</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3639.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">WARNING:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> It is suggested to consider using </span><a href="https://wiki.debian.org/SSH#Resolution_with_IPQoS_0x00"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">that other resolution with IPQoS 0x00</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> instead of using netcat/</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">ProxyCommandnc%h%p</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> option. Because </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">IPQoS0x00</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is the official built-in OpenSSH option. Also </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">IPQoS0x00</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> is a more direct way to resolve that issue, and potentially more secure option. Because </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">IPQoS0x00</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> uses SSH's built in encryption for secure transfers. Compare to netcat's </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-style:italic;">not</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> encrypted transfers. Sources: </span><a href="http://nc110.sourceforge.net/"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">1</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span><a href="https://www.ndchost.com/wiki/server-administration/netcat-over-ssh#using-dd-over-netcat"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">2</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. If you choose to use netcat/</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">ProxyCommandnc%h%p</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> option read on. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Another option to resolve that SSH hangs issue is to use </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">ProxyCommandnc%h%p</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. To do so follow the same steps as </span><a href="https://wiki.debian.org/SSH#Resolution_with_IPQoS_0x00"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">that above resolution with IPQoS 0x00</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">. But replace </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt; font-weight:600; font-style:italic;">IPQoS0x00</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> with</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="line-1-19"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">P</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">roxyCommand nc %h %p</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="Keep_SSH_connection_alive"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">K</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">eep SSH connection alive</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">For security reason, by default a SSH connection is automatically closed after a set period of time. But in some cases you want to keep that connection open. Such as cloud storage over SSH connection. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3639.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">WARNING:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> Before activating that keep SSH connection alive option. It is suggested to consider </span><a href="https://wiki.debian.org/SSH#Securing"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; text-decoration: underline; color:#0000ff;">securing</span></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> both your SSH Client and SSH Server. Because for example, there is a risk that if your users leave their SSH session open, and their computer unattended and unlocked. Anyone can approach that computer, then exploit that open SSH connection. For example by using the </span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;"> command, and change the password. And thus gain access to the server. In other words, before activating that keep SSH connection alive option, it is suggested to use your best judgment and good security practices. </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="For_Debian_7.x_server"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">F</span><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt; font-weight:600;">or Debian 7.x server</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Steps to keep SSH connection alive. </span></p>
<ol style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">On the SSH server edit &quot;<span style=" font-style:italic;">/etc/ssh/sshd_config</span>&quot; file </li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Add the following at the bottom of that file </li>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-20"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> Keep client SSH connection alive by sending every 300 seconds a small keep-alive packet to the server in order to use ssh connection. 300 seconds equal 5 minutes.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-2-3"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">C</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">lientAliveInterval 300</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-3"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-4"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">#</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> Disconnect client after 3333 &quot;ClientAlive&quot; requests. Format is (ClientAliveInterval x ClientAliveCountMax). In this example  (300 seconds x 3333) = ~999,900 seconds = ~16,665 minutes = ~277 hours = ~11 days.</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-5"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">C</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">lientAliveCountMax 3333</span></p>
<li style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">As Root user restart the SSH service </li></ol>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-21"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">ervice sshd restart</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">Please note that on recent Debian systems (e.g. Wheezy 7 with current updates as of Nov. 2015), the above command no longer works and returns the error: </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-22"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">udo service sshd restart</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-2-4"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">shd: unrecognized service</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:8.25pt;">However, the following works:</span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-1-23"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">s</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">udo service ssh restart</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:1; text-indent:0px;"><a name="line-2-5"></a><span style=" font-family:'Courier New,courier'; font-size:8.25pt;">[</span><span style=" font-family:'Courier New,courier'; font-size:8.25pt;"> ok ] Restarting OpenBSD Secure Shell server: sshd.</span></p></body></html>