<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">Your pg_hba.conf appears to permit connections from localhost. The easiest way of causing your SSH tunnel connections to appear from localhost is to make them</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729;"> </span><span style=" font-family:'inherit'; font-size:15px; font-weight:600; color:#242729;">to</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729;"> localhost.</span></p>
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">The following SSH command connects to remote.example.com as user &quot;user&quot;, and causes your ssh client to listen on localhost, port 1111/tcp. Any connections made to that port will be forwarded over the ssh tunnel, and on the ssh server side the connections will be made to localhost, port 5432/tcp. Since we're connecting to localhost, the connections will appear to be from localhost also, and should match your existing pg_hba.conf line.</span></p>
<pre style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">ssh -L </span><span style=" font-family:'inherit'; font-size:13px; color:#7d2727; background-color:#eff0f1;">1111</span><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">:localhost:</span><span style=" font-family:'inherit'; font-size:13px; color:#7d2727; background-color:#eff0f1;">5432</span><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;"> </span><span style=" font-family:'inherit'; font-size:13px; color:#101094; background-color:#eff0f1;">user</span><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">@remote.example.com</span></pre>
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">If this is expected to be a long-running tunnel, I would recommend using</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729;"> </span><a href="http://www.harding.motd.ca/autossh/"><span style=" font-family:'inherit'; font-size:15px; color:#005999;">autossh</span></a></p>
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">To connect using the psql client on the host where you are running the ssh client, use something like this:</span></p>
<pre style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">psql -h localhost -p </span><span style=" font-family:'inherit'; font-size:13px; color:#7d2727; background-color:#eff0f1;">1111</span><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;"> -U your-db-username database-name</span></pre>
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">You should then be prompted for your database user's password.</span></p>
<p style=" margin-top:0px; margin-bottom:17px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729; background-color:#ffffff;">Alternately, you can add a line line the following to a file called</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729;"> </span><span style=" font-family:'Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,sans-serif'; font-size:13px; color:#242729; background-color:#eff0f1;">.pgpass</span><span style=" font-family:'Arial,Helvetica Neue,Helvetica,sans-serif'; font-size:15px; color:#242729;"> in your home directory on the client where you're running psql:</span></p>
<pre style=" margin-top:0px; margin-bottom:15px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#eff0f1;"><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">localhost:</span><span style=" font-family:'inherit'; font-size:13px; color:#7d2727; background-color:#eff0f1;">1111</span><span style=" font-family:'inherit'; font-size:13px; color:#303336; background-color:#eff0f1;">:database-name:your-db-user:your-db-password</span></pre></body></html>