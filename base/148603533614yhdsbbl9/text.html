<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#edf7f9;"><span style=" font-family:'Arial'; font-size:large; font-weight:600; color:#000000; background-color:#edf7f9;">Determine what character encoding is used by a file</span></p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">file -bi [filename]</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">Example output:</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ file -bi test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">text/plain; charset=us-ascii</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#edf7f9;"><span style=" font-family:'Arial'; font-size:large; font-weight:600; color:#000000; background-color:#edf7f9;">Use vim to change a file's encoding</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">If you use the vim text editor, you can configure it to save files as utf-8. Place the following in your /etc/vim/vimrc or ~/.vimrc file:</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">set encoding=utf-8</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">set fileencoding=utf-8</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">You will only notice a difference in the encoding if you edit the file and add unicode (utf-8) characters (most character keys on the keyboard will create a unicode equivalent if you hold down the alt key). Start vim, edit the file and add some unicode characters. If you create a test file containing the following...</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ cat utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">abcdefghijklmnopqrstuvwxyz</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">á ãä  ç éêëìíîïðñò  õö øùú</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">...then the file command should tell you the file is utf-8:</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ file -bi utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">text/plain; charset=utf-8</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">If you then remove the UTF-8 characters and save the file, it will be us-ascii again.</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#edf7f9;"><span style=" font-family:'Arial'; font-size:large; font-weight:600; color:#000000; background-color:#edf7f9;">Change a file's encoding from the command line</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">To convert the file contents to from ASCII to UTF-8:</span></p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">iconv -f ascii -t utf8 [filename] &gt; [newfilename]</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">Or</span></p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">recode UTF-8 [filename]</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">To convert the file contents from UTF-8 to ASCII:</span></p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">iconv -f utf8 -t ascii [filename]</span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">Because UTF-8 can contain characters that can't be encoded with ASCII, this command will generate an error unless you tell it to strip non-ASCII characters using the -c flags:</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ iconv -f utf-8 -t ascii utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">abcdefghijklmnopqrstuvwxyz</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">iconv: illegal input sequence at position 27</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ iconv -c -f utf-8 -t ascii utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">abcdefghijklmnopqrstuvwxyz</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">       </span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">A similar thing can be achieved using the -f flag with the recode command.</span></p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ recode ascii utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">recode: utf8test.txt failed: Invalid input in step `ANSI_X3.4-1968..CHAR'</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ recode -f ascii utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">steph@localhost ~ $ cat utf8test.txt</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">abcdefghijklmnopqrstuvwxyz</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000;">       </span></pre>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffcccc;"><span style=" font-family:'Arial'; font-weight:600; color:#000000;">Warning</span><span style=" font-family:'Arial'; color:#000000;">: If you use the iconv -c flag or the recode -f flag, you could loose characters.</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#edf7f9;"><span style=" font-family:'Arial'; font-size:large; font-weight:600; color:#000000; background-color:#edf7f9;">Change the filename encoding</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Arial'; color:#000000; background-color:#ffffff;">To convert the filename from ascii to UTF-8:</span></p>
<p style=" margin-top:8px; margin-bottom:8px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffcccc;"><span style=" font-family:'Arial'; font-weight:600; color:#000000;">Warning:</span><span style=" font-family:'Arial'; color:#000000;"> Run this without the --notest option first, to make sure there will be no problems.</span></p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f8f8f8;"><span style=" font-family:'monospace'; color:#000000; background-color:#f8f8f8;">convmv -f ascii -t utf8 --notest [filename] &gt; [newfilename]</span></pre></body></html>