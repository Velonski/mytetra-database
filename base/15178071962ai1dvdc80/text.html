<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Недавно я написал статью на тему как настроить распределение нагрузки на Nginx, включил в неё немного примеров кода, но, как мне показалось, не всем пользователям она показалась исчерпывающей (включая меня). Поэтому сегодня я приведу пример настройки из реального опыта.</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Описание сети: 3 сервера / машины, работающие на базе Linux (Fedora, Rhel, Centos) .</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">192.168.1.100 </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">(</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">master node</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">192.168.1.109 </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">(</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">slave</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">)</span></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">192.168.1.106 </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">(</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">slave</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">)</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Устанавливаем nginx на три сервера:</span></p>
<pre style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yum </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#dd4a68;">install</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> nginx</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Настраиваем</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">nginx.conf</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> на трех серверах. Чаще всего файл настройки на в этих системах располагаются в </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">/etc/nginx/nginx.conf</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;">.</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">user</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  nginx</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">worker_processes</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">nginx_error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log crit</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">worker_rlimit_nofile</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">8192</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">events</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">worker_connections</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1024</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#708090;"># you might need to increase this setting for busy servers</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">use</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> epoll</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#708090;">#  Linux kernels 2.6.x change to epoll</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">http</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_names_hash_max_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">2048</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_names_hash_bucket_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">512</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_tokens</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> off</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">include</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    mime</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">types</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">default_type</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  application</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">octet</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">stream</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">sendfile</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">tcp_nopush</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">tcp_nodelay</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">keepalive_timeout</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">10</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#708090;"># Gzip on</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">gzip</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">gzip_min_length</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">gzip_buffers</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">4</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> 32k</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">gzip_types</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    text</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">plain application</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">x</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">javascript text</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">xml text</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">css</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">ignore_invalid_headers</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">client_max_body_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    8m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">client_header_timeout</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  3m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">client_body_timeout</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> 3m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">send_timeout</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">     3m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">connection_pool_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">256</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">client_header_buffer_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> 4k</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">large_client_header_buffers</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">4</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> 64k</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">request_pool_size</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  4k</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  output_buffers   </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">4</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> 32k</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">postpone_output</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1460</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#708090;"># Cache most accessed static files</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">open_file_cache</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">          max</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">=</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">10000</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> inactive</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">=</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">10m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">open_file_cache_valid</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    2m</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">open_file_cache_min_uses</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">open_file_cache_errors</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">   on</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#708090;"># Include each virtual host</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">include</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#669900;">&quot;/etc/nginx/conf.d/*.conf&quot;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<p style=" margin-top:20px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#ffffff;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#222427; background-color:#ffffff;">Настройка виртуальных хостов</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">На сервере 2 (192.168.1.109) и на сервере 3 (192.168.1.106)</span></p>
<pre style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#dd4a68;">nano</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> -w /etc/nginx/conf.d/mysite.com.conf</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Вставьте следующие настройки в файл. Не забудьте поправить параметры корневого каталога и прочих пунктов, касающихся вашей системы:</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">access_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> off</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">listen</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_name</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">~*</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.(</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">gif</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">jpg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">jpeg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">png</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">ico</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">wmv</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">3gp</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">avi</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mpg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mpeg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">mp4</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">flv</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mp3</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mid</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">js</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">css</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">wml</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">swf</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">)</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">$ </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">root</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">   </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">expires</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> max</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">add_header</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> Pragma public</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">add_header</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> Cache</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">Control </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#669900;">&quot;public, must-revalidate, proxy-revalidate&quot;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">root</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">   </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">php </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">html </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">htm</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Не забудьте исправить</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">/var/www/yoursite.com</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> на настоящий путь к вашему сайту. Для главного сервера (192.168.1.100) создайте файл:</span></p>
<pre style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#dd4a68;">nano</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> -w /etc/nginx/conf.d/balancer.com.conf</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Вставьте в него следующее содержимое:</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">upstream</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> balancer </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.106</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">listen</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_name</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">        </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">proxy_pass</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">http</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">//</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">balancer</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Так же не забудьте исправить</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">yoursite.com</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> на имя вашего сайта. Перезапустите nginx на всех трех машинах:</span></p>
<pre style=" margin-top:7px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#dd4a68;">service</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> nginx restart</span></pre>
<p style=" margin-top:20px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#ffffff;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#222427; background-color:#ffffff;">DNS записи</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">В этом примере я предполагаю, что ваши DNS записи указывают на IP 192.168.1.100, то есть на главный сервер, который также отвечает за распределение нагрузки. Ваши DNS записи должны выглядеть следующим образом:</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite.com IN A 192.168.1.100</span></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">www IN A 192.168.1.100</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Для тестирования допускается использование</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">/etc/hosts</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> для согласования имен сайтов и IP адресов в пределах локальной сети, вместо использования настоящего DNS сервера.</span></p>
<p style=" margin-top:20px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.1%; background-color:#ffffff;"><span style=" font-family:'Fira Sans,sans-serif'; font-size:large; font-weight:496; color:#222427; background-color:#ffffff;">Главный - master сервер</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Сервер, отвечающий за балансировку нагрузки, я называю главным, но он так же может выступать в роли обработчика запросов, как и два остальных. В этом примере допускается использовать главный сервер для обработки запросов.</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Другой сценарий: используем балансировщик нагрузки для обработки запросов. Мы применим небольшой трюк. Заменим следующие настройки на сервере:</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">upstream</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> balancer </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.106</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">listen</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_name</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">proxy_pass</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">http</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">//</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">balancer</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">на</span></p>
<pre style=" margin-top:7px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">access_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> off</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">listen</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">127.0</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">01</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_name</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">~*</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.(</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">gif</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">jpg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">jpeg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">png</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">ico</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">wmv</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">3gp</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">avi</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mpg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mpeg</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">mp4</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">flv</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mp3</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">mid</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">js</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">css</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">wml</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">|</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">swf</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">)</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">$ </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">root</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">   </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">expires</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> max</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">add_header</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> Pragma public</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">add_header</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> Cache</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">Control </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#669900;">&quot;public, must-revalidate, proxy-revalidate&quot;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">root</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">   </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">www</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">php </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">html </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">index</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">htm</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">    </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">upstream</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> balancer </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.106</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">127.0</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">0.1</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">listen</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">192.168</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">1.100</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#990055;">80</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">server_name</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">error_log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">var</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">yoursite</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">com</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">-</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">error</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">.</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">log</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">location</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">/</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">{</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">      </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">proxy_pass</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;"> </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#0077aa;">http</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">:</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#a67f59; background-color:rgba(255,255,255,0.494118);">//</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">balancer</span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">;</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#000000;">  </span><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; background-color:#f5f2f0;"><span style=" font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999;">}</span></pre>
<pre style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:7px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:1.5%; font-family:'Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace'; color:#999999; background-color:#f5f2f0;"><br /></pre>
<p style=" margin-top:15px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Как вы видите, мы внесли два изменения: добавили виртуальный хост по адресу</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><span style=" font-family:'inherit'; font-size:15px; color:#768494;">127.0.0.1</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> и настроили его на обработку запросов на 80 порт. Затем добавили тот же сервер к вышестоящим серверам, то есть он будет использован для обработки запросов от Nginx запущенного на вашем localhost компьютере.</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">На данном этапе балансировщик нагрузки Nginx должен работать без проблем. Конечно существует множество методов и вариантов его настройки, которые стоит изучить.</span></p>
<p style=" margin-top:0px; margin-bottom:18px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427; background-color:#ffffff;">Не забывайте про официальную документацию на сайте</span><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;"> </span><a href="http://nginx.org/"><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#4183d7; background-color:transparent;">nginx.org</span></a><span style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;">:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://nginx.org/en/docs/http/load_balancing.html"><span style=" font-size:15px; color:#4183d7; background-color:transparent;">http://nginx.org/en/docs/http/load_balancing.html</span></a></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://wiki.nginx.org/HttpUpstreamModule"><span style=" font-size:15px; color:#4183d7; background-color:transparent;">http://wiki.nginx.org/HttpUpstreamModule</span></a></li>
<li style=" font-family:'Roboto,sans-serif'; font-size:15px; color:#222427;" style=" margin-top:0px; margin-bottom:10px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://wiki.nginx.org/LoadBalanceExample"><span style=" font-size:15px; color:#4183d7; background-color:transparent;">http://wiki.nginx.org/LoadBalanceExample</span></a></li></ul></body></html>