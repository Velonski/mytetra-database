<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">I just needed to record a video stream. Usually, I use <a href="https://en.wikipedia.org/wiki/MPlayer"><span style=" text-decoration: underline; color:#0000ff;">mplayer</span></a> for these kinds of jobs, but this time it failed. However, on the internet I found a way to do it using VLC, which apparently has quite a command line interface. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://forum.videohelp.com/threads/348274-Record-HLS-streams?s=3b43577eeb5aac034f71f66d2ce4a7bc&amp;p=2178842&amp;viewfull=1#post2178842"><span style=" text-decoration: underline; color:#0000ff;">This comment</span></a> revealed that the VLC media player comes with some command line magic. Of course, not much is documented in the <a href="http://linux.die.net/man/1/vlc"><span style=" text-decoration: underline; color:#0000ff;">man page</span></a>, but the <a href="http://www.videolan.org/doc/vlc-user-guide/en/ch04.html"><span style=" text-decoration: underline; color:#0000ff;">user guide</span></a> on their website seems to be useful. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Long story short, I ended up with the following command to save the stream <span style=" font-family:'Courier New,courier';">http://STREAM.mp4</span> to <span style=" font-family:'Courier New,courier';">/tmp/file.mkv</span> : </p>
<pre style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">vlc http://STREAM.mp4 --sout=&quot;#std{access=file,mux=mkv,dst='/tmp/file.mkv'}&quot; vlc://quit</span> </pre>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Cool. </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">For the records, here are some alternatives: </p>
<pre style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># using mplayer</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">mplayer -dumpstream http://STREAM.mp4 -dumpfile /tmp/file.mp4</span></pre>
<pre style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';"># using ffmpeg</span></pre>
<pre style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">ffmpeg -i http://STREAM.mp4 -acodec copy -vcodec copy /tmp/file.mp4</span> </pre></body></html>